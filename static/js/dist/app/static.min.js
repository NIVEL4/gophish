var dirlist={},base_path="/";function load(){$("#dirTable").hide(),$("#emptyMessage").hide(),$("#loading").show(),api.static_content.get(base_path).success((function(e){if($("#loading").hide(),e.files.length+e.dirs.length>0){files=e.files,dirs=e.dirs,$("#emptyMessage").hide(),$("#dirTable").show();var s=$("#dirTable").DataTable({columns:[{data:"type"},{data:"name"}],destroy:!0,columnDefs:[{orderable:!1,targets:"no-sort"}]});s.clear(),dirRows=[],$.each(dirs,(function(e,s){dirRows.push({type:escapeHtml("Dir"),name:escapeHtml(s)})})),$.each(files,(function(e,s){dirRows.push({type:escapeHtml("File"),name:escapeHtml(s)})})),s.rows.add(dirRows).draw()}else $("#emptyMessage").show()})).error((function(){errorFlash("Error listing directory")}))}$(document).ready((function(){load()}));